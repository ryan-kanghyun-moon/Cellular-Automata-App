(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],{10:function(e,t,i){"use strict";i.r(t);var s=i(1),r=i(3),l=i.n(r);i(8);const c=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];class n{constructor(e,t,i,s,r){return this.grid=e,this.live=t,this.surv=i,this.setGrid=s,this.isOnRef=r,this}show(){this.isOnRef.current&&(this.ca(),this.setGrid(this.grid),setTimeout((()=>this.show()),10))}countNeighbor(e,t){var i=0;for(let[s,r]of c){const l=e+s,c=t+r;l>=0&&l<this.grid.length&&c>=0&&c<this.grid[0].length&&(i+=this.grid[l][c])}return i}ca(){var e=this.grid.map((e=>e.slice()));this.grid.forEach(((t,i)=>{t.forEach(((t,s)=>{var r=this.countNeighbor(i,s);(this.grid[i][s]&&!this.surv[r]||!this.grid[i][s]&&this.live[r])&&(e[i][s]=!e[i][s])}))})),this.grid=e}}var o=i(0);const a=100,d={maze:{surv:[0,1,1,1,1,1,0,0,0],live:[0,0,0,1,0,0,0,0,0]},mazectric:{surv:[0,1,1,1,1,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]},"game of life":{surv:[0,0,1,1,0,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]}},h=["maze","mazectric","game of life","free"];function j(e){return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("div",{classID:"CAOption",style:{width:130,height:20,backgroundColor:e.isCA?"pink":"white",border:"solid 1px black"},onClick:()=>e.setIsCA(!e.isCA),children:"Cellular Automata"}),Object(o.jsx)("div",{classID:"MazeOption",style:{width:130,height:20,backgroundColor:e.isCA?"white":"pink",border:"solid 1px black"},onClick:()=>e.setIsCA(!e.isCA),children:"Maze"})]})}function u(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["Select rule",Object(o.jsx)("select",{value:e.currRule,onChange:t=>{const i=t.target.value;e.setCurrRule(i),"free"!==i?(e.setLive(d[i].live),e.setSurv(d[i].surv)):(e.setLive(new Array(9).fill(0)),e.setSurv(new Array(9).fill(0)))},children:h.map((e=>Object(o.jsx)("option",{value:e,children:e},"".concat(e))))})]})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"A cell will come to life with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.live.map(((t,i)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"lightgreen":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.live];t[i]=!e.live[i],e.setLive(t)}},children:i},i)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"and survive with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.surv.map(((t,i)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"skyblue":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.surv];t[i]=!e.surv[i],e.setSurv(t)}},children:i},i)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"or be dead otherwise."}),Object(o.jsx)(O,{}),Object(o.jsx)("button",{onClick:()=>{e.setOneIsColor(!e.oneIsColor)},children:"flip color scheme!"})]})]})}function b(e){return Object(o.jsx)("div",{children:"Maze panel - coming very very soon!"})}function v(e){const t=e.grid;return Object(o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(a,", ").concat(10,"px)")},children:t.map(((i,s)=>i.map(((i,r)=>Object(o.jsx)("div",{style:{width:8,height:8,backgroundColor:t[s][r]&&e.oneIsColor||!t[s][r]&&!e.oneIsColor?"green":"white",border:"solid 1px black"},onClick:()=>{if(!e.isOn){var i=[...t];i[s][r]=!t[s][r],e.setGrid(i)}}},"".concat(s,"-").concat(r))))))})}function O(){return Object(o.jsx)("div",{style:{width:20,height:20}})}function x(){var[e,t]=Object(s.useState)((()=>Array(100).fill().map((()=>new Array(a).fill(0))))),[i,r]=Object(s.useState)(d.maze.surv),[l,c]=Object(s.useState)(d.maze.live),[h,x]=Object(s.useState)("maze"),[g,f]=Object(s.useState)(!0),[p,m]=Object(s.useState)(!1),[C,y]=Object(s.useState)(.05),[w,k]=Object(s.useState)(!0);const A=Object(s.useRef)(p);return Object(s.useEffect)((()=>{new n(e,l,i,t,A).show()}),[p]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(v,{grid:e,setGrid:t,rule:h,isOn:p,oneIsColor:w}),Object(o.jsx)(O,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)(j,{isCA:g,setIsCA:f}),Object(o.jsx)(O,{}),Object(o.jsx)("div",{children:g?Object(o.jsx)(u,{currRule:h,setCurrRule:x,surv:i,setSurv:r,live:l,setLive:c,oneIsColor:w,setOneIsColor:k}):Object(o.jsx)(b,{})}),Object(o.jsx)(O,{}),Object(o.jsx)("button",{classID:"playPauseButton",onClick:()=>{m(!p),A.current=!p},children:p?"pause":"play"}),Object(o.jsx)("button",{classID:"resetButton",onClick:()=>{t((()=>Array(100).fill().map((()=>new Array(a).fill(0))))),m(!1)},children:"reset"})]})]}),Object(o.jsx)(O,{}),Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["random level (0 - 1):",Object(o.jsx)("input",{type:"text",value:C,onChange:e=>{let t=e.target.value;Number(t)==t&&t>=0&&t<=1?y(e.target.value):y(C)}})]})}),Object(o.jsx)("button",{onClick:()=>{var e=new Array(100).fill().map((()=>new Array(a).fill().map((()=>Math.random()<C?1:0))));t(e)},children:"randomize!"})]})]})}var g=function(){return Object(o.jsx)(x,{})};l.a.render(Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Cellular Automata / Maze (coming up)"}),Object(o.jsx)("div",{children:Object(o.jsx)(g,{})})]}),document.getElementById("root"))},8:function(e,t,i){}},[[10,1,2]]]);
//# sourceMappingURL=main.83e3cc5b.chunk.js.map