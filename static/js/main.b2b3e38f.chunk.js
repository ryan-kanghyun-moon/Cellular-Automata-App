(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],{10:function(e,t,i){},12:function(e,t,i){"use strict";i.r(t);var s=i(2),r=i(5),c=i.n(r);i(10);const a=1,l=0,n=0,o=1,h=2,b=3,j=4,u=5,d=6,O="depth first search (DFS)",v="breath first search (BFS)",g=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];class f{constructor(e,t,i,s,r){return this.grid=e,this.live=t,this.surv=i,this.setGrid=s,this.isOnRef=r,this}show(){this.isOnRef.current&&(this.ca(),this.setGrid(this.grid),setTimeout((()=>this.show()),10))}countNeighbor(e,t){var i=0;for(let[s,r]of g){const c=e+s,a=t+r;c>=0&&c<this.grid.length&&a>=0&&a<this.grid[0].length&&(i+=this.grid[c][a]===l?0:1)}return i}ca(){var e=this.grid.map((e=>e.slice()));this.grid.forEach(((t,i)=>{t.forEach(((t,s)=>{var r=this.countNeighbor(i,s);(this.grid[i][s]&&!this.surv[r]||!this.grid[i][s]&&this.live[r])&&(e[i][s]=e[i][s]===l?a:l)}))})),this.grid=e}}var p=i(1),x=i(3),w=Object(x.a)("q"),S=Object(x.a)("front"),m=Object(x.a)("back");class y{constructor(){Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object(p.a)(this,w)[w]=[],Object(p.a)(this,S)[S]=0,Object(p.a)(this,m)[m]=0,this.length=0}push(e){Object(p.a)(this,w)[w].push(e),this.length++,Object(p.a)(this,m)[m]++}pop(){if(!this.isEmpty()){var e=Object(p.a)(this,w)[w][Object(p.a)(this,S)[S]];return Object(p.a)(this,S)[S]++,this.length--,e}}isEmpty(){return 0===this.length}}const C=[[-1,0],[0,-1],[0,1],[1,0]];var k=Object(x.a)("setGrid"),G=Object(x.a)("visited"),I=Object(x.a)("start"),R=Object(x.a)("goal"),A=Object(x.a)("toVisit"),P=Object(x.a)("paths"),z=Object(x.a)("grid"),L=Object(x.a)("isOnRef"),N=Object(x.a)("setCannotFindPath"),E=Object(x.a)("setFoundGoal"),M=Object(x.a)("setIsOn");var B=class{constructor(e,t,i,s,r,c,a){switch(Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object(p.a)(this,k)[k]=t,Object(p.a)(this,z)[z]=r,Object(p.a)(this,R)[R]=s,Object(p.a)(this,I)[I]=i,e){case v:Object(p.a)(this,A)[A]=new y;break;case O:Object(p.a)(this,A)[A]=[];break;default:throw new Error("wrong rule")}Object(p.a)(this,P)[P]={},Object(p.a)(this,L)[L]=c,Object(p.a)(this,M)[M]=a}getInBoundNeighbors(e,t){var i=[];for(let[s,r]of C){const c=e+s,a=t+r;c>=0&&c<Object(p.a)(this,z)[z].length&&a>=0&&a<Object(p.a)(this,z)[z][0].length&&i.push([c,a])}return i}deepcopy(e){return e.map((e=>e.slice()))}show(){var e=this.deepcopy(Object(p.a)(this,z)[z]);for(let s of this.getInBoundNeighbors(Object(p.a)(this,I)[I][0],Object(p.a)(this,I)[I][1])){var[t,i]=s;switch(Object(p.a)(this,z)[z][t][i]){case u:return Object(p.a)(this,M)[M](!1),void(Object(p.a)(this,L)[L].current=!1);case n:Object(p.a)(this,A)[A].push([t,i]),e[t][i]=b,Object(p.a)(this,P)[P]["".concat(s)]=[s]}}Object(p.a)(this,z)[z]=e,Object(p.a)(this,k)[k](e),setTimeout((()=>this.search()),10)}search(){if(!1===Object(p.a)(this,L)[L].current)return;0===Object(p.a)(this,A)[A].length&&(alert("could not find path to goal"),Object(p.a)(this,M)[M](!1),Object(p.a)(this,L)[L].current=!1);let e=Object(p.a)(this,A)[A].pop();if(e){var t=this.deepcopy(Object(p.a)(this,z)[z]);for(let s of this.getInBoundNeighbors(e[0],e[1])){let[r,c]=s;switch(Object(p.a)(this,z)[z][r][c]){case n:t[r][c]=b,Object(p.a)(this,A)[A].push(s);var i=[...Object(p.a)(this,P)[P]["".concat(e)]];i.push(s),Object(p.a)(this,P)[P]["".concat(s)]=i;break;case u:for(let[i,s]of Object(p.a)(this,P)[P]["".concat(e)])t[i][s]=d;return Object(p.a)(this,k)[k](t),Object(p.a)(this,M)[M](!1),void(Object(p.a)(this,L)[L].current=!1)}}t[e[0]][e[1]]=h,Object(p.a)(this,z)[z]=t,Object(p.a)(this,k)[k](t),setTimeout((()=>this.search()),10)}}},D=i(0);function F(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)("button",{classID:"playPauseButton",onClick:()=>{e.setIsOn(!e.isOn),e.isOnRef.current=!e.isOn},children:e.isOn?"pause":"play"}),!e.isOn&&Object(D.jsx)("button",{classID:"resetButton",onClick:()=>{e.setGrid((()=>Array(e.numRows).fill().map((()=>new Array(e.numCols).fill(0))))),e.setGoal([-1,-1]),e.setStart([-1,-1])},children:"reset"})]})}function T(e){return Object(D.jsxs)("div",{style:{display:"flex"},children:[Object(D.jsx)("form",{children:Object(D.jsxs)("label",{children:["random level (0 - 1):",Object(D.jsx)("input",{type:"text",value:e.randLevel,onChange:t=>{let i=t.target.value;!isNaN(i)&&i>=0&&i<=1&&e.setRandLevel(t.target.value)}})]})}),Object(D.jsx)("button",{onClick:()=>{var t=new Array(e.numRows).fill().map((()=>new Array(e.numCols).fill().map((()=>Math.random()<e.randLevel?a:l))));e.setGrid(t)},children:"randomize!"})]})}function q(e,t,i){if(e)switch(i){case l:return"white";default:return"green"}else switch(i){case n:return"white";case o:return"black";case u:return"deeppink";case d:return"salmon";case b:return"lightseagreen";case h:return"paleturquoise";case j:return"darkgreen";default:return"red"}}function J(e){const t=e.grid;return Object(D.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(e.numCols,", ").concat(10,"px)")},children:t.map(((i,s)=>i.map(((i,r)=>Object(D.jsx)("div",{style:{width:8,height:8,backgroundColor:q(e.isCA,e.oneIsColor,t[s][r]),border:"solid 1px black"},onClick:()=>{!function(e,t,i,s){if(!s.isOn){var r=[...i];s.isCA?(r[e][t]=i[e][t]===l?a:l,s.setGrid(r)):s.isSelectingGoal?(r[e][t]=u,-1!==s.goal[0]&&(r[s.goal[0]][s.goal[1]]=o),s.setGoal([e,t]),s.setIsSelectingGoal(!1),s.setGrid(r)):s.isSelectingStart?(r[e][t]=j,-1!==s.start[0]&&(r[s.start[0]][s.start[1]]=o),s.setStart([e,t]),s.setIsSelectingStart(!1),s.setGrid(r)):(i[e][t]===o?r[e][t]=n:i[e][t]===n&&(r[e][t]=o),s.setGrid(r))}}(s,r,t,e)}},"".concat(s,"-").concat(r))))))})}const V={maze:{surv:[0,1,1,1,1,1,0,0,0],live:[0,0,0,1,0,0,0,0,0]},mazectric:{surv:[0,1,1,1,1,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]},"game of life":{surv:[0,0,1,1,0,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]}},H=["maze","mazectric","game of life","free"];var K=function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)("form",{children:Object(D.jsxs)("label",{children:["Select rule",Object(D.jsx)("select",{value:e.currRule,onChange:t=>{const i=t.target.value;e.setCurrRule(i),"free"!==i?(e.setLive(V[i].live),e.setSurv(V[i].surv)):(e.setLive(new Array(9).fill(0)),e.setSurv(new Array(9).fill(0)))},children:H.map((e=>Object(D.jsx)("option",{value:e,children:e},"".concat(e))))})]})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("h3",{children:"A cell will come to life with"}),Object(D.jsx)("div",{style:{display:"flex"},children:e.live.map(((t,i)=>Object(D.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"lightgreen":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.live];t[i]=!e.live[i],e.setLive(t)}},children:i},i)))}),Object(D.jsx)("h3",{children:"living neighbors,"}),Object(D.jsx)("h3",{children:"and survive with"}),Object(D.jsx)("div",{style:{display:"flex"},children:e.surv.map(((t,i)=>Object(D.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"skyblue":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.surv];t[i]=!e.surv[i],e.setSurv(t)}},children:i},i)))}),Object(D.jsx)("h3",{children:"living neighbors,"}),Object(D.jsx)("h3",{children:"or be dead otherwise."})]})]})};function Q(e){return Object(D.jsxs)("div",{style:{display:"flex"},children:[Object(D.jsx)("div",{classID:"CAOption",style:{width:140,height:20,backgroundColor:e.isCA?"pink":"white",border:"solid 1px black"},onClick:()=>{e.isOn||e.setIsCA(!0)},children:"Cellular Automata"}),Object(D.jsx)("div",{classID:"MazeOption",style:{width:100,height:20,backgroundColor:e.isCA?"white":"pink",border:"solid 1px black"},onClick:()=>{e.isOn||e.setIsCA(!1)},children:"Maze"})]})}function U(){return Object(D.jsx)("div",{style:{width:20,height:20}})}const W=[O,v];var X=function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)("form",{children:Object(D.jsxs)("label",{children:["Select path finding rule",Object(D.jsx)("select",{value:e.currMazeRule,onChange:t=>{const i=t.target.value;e.setCurrMazeRule(i)},children:W.map((e=>Object(D.jsx)("option",{value:e,children:e},"".concat(e))))})]})}),Object(D.jsx)(U,{}),Object(D.jsx)("div",{classID:"SelectStart",style:{height:20,backgroundColor:e.isSelectingStart?"darkgreen":"white",border:"solid 1px black"},onClick:()=>e.setIsSelectingStart(!e.isSelectingStart),children:e.isSelectingStart?"pick!":"click to pick your starting point"}),Object(D.jsx)(U,{}),Object(D.jsx)("div",{classID:"SelectGoal",style:{height:20,backgroundColor:e.isSelectingGoal?"deeppink":"white",border:"solid 1px black"},onClick:()=>e.setIsSelectingGoal(!e.isSelectingGoal),children:e.isSelectingGoal?"pick!":"click to pick your goal"})]})};function Y(){return Object(D.jsx)("div",{style:{width:20,height:20}})}var Z=function(){var[e,t]=Object(s.useState)(!1),[i,r]=Object(s.useState)((()=>Array(70).fill().map((()=>new Array(70).fill(0)))));const c=Object(s.useRef)(e);var[l,n]=Object(s.useState)([0,0,1,1,0,0,0,0,0]),[o,h]=Object(s.useState)([0,0,0,1,0,0,0,0,0]),[b,j]=Object(s.useState)("game of life"),[u,d]=Object(s.useState)(!1),[v,g]=Object(s.useState)(.05),[p,x]=Object(s.useState)(!1),[w,S]=Object(s.useState)(!1),[m,y]=Object(s.useState)(O),[C,k]=Object(s.useState)([-1,-1]),[G,I]=Object(s.useState)([-1,-1]);return Object(s.useEffect)((()=>{if(e)if(u){new f(i,o,l,r,c).show()}else{if(-1===G[0]||-1===C[0])return alert("set start and/or goal and try again"),t(!1),void(c.current=!1);new B(m,r,C,G,i,c,t).show()}}),[e]),Object(s.useEffect)((()=>{if(u&&!e&&(-1!==C[0]||-1!==G[0])){var t=i.map((e=>e.slice()));-1!==C[0]&&(t[C[0]][C[1]]=a,k([-1,-1])),-1!==G[0]&&(t[G[0]][G[1]]=a,I([-1,-1])),r(t)}}),[u]),Object(D.jsx)("div",{children:Object(D.jsxs)("div",{style:{display:"flex"},children:[Object(D.jsx)(J,{grid:i,setGrid:r,rule:b,isOn:e,numCols:70,numRows:70,isCA:u,isSelectingGoal:w,setIsSelectingGoal:S,isSelectingStart:p,setIsSelectingStart:x,start:C,setStart:k,goal:G,setGoal:I}),Object(D.jsx)(Y,{}),Object(D.jsxs)("div",{children:[Object(D.jsx)(Q,{isCA:u,setIsCA:d,isOn:e}),Object(D.jsx)(Y,{}),Object(D.jsx)("div",{children:u?Object(D.jsx)(K,{currRule:b,setCurrRule:j,surv:l,setSurv:n,live:o,setLive:h}):Object(D.jsx)(X,{currMazeRule:m,setCurrMazeRule:y,isSelectingGoal:w,setIsSelectingGoal:S,isSelectingStart:p,setIsSelectingStart:x,isOn:e})}),Object(D.jsx)(Y,{}),Object(D.jsx)(F,{setIsOn:t,isOn:e,isOnRef:c,setGrid:r,numRows:70,numCols:70,setStart:k,setGoal:I,isCA:u}),Object(D.jsx)(Y,{}),Object(D.jsx)(T,{setGrid:r,randLevel:v,setRandLevel:g,numRows:70,numCols:70})]})]})})};var $=function(){return Object(D.jsx)(Z,{})};c.a.render(Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Cellular Automata / Maze (coming up)"}),Object(D.jsx)("div",{children:Object(D.jsx)($,{})})]}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.b2b3e38f.chunk.js.map