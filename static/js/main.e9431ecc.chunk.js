(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],{10:function(e,t,s){"use strict";s.r(t);var i=s(1),r=s(3),l=s.n(r);s(8);const n=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];class c{constructor(e,t,s,i,r){return this.grid=e,this.live=t,this.surv=s,this.setGrid=i,this.isOnRef=r,this}show(){this.isOnRef.current&&(this.ca(),this.setGrid(this.grid),setTimeout((()=>this.show()),10))}countNeighbor(e,t){var s=0;for(let[i,r]of n){const l=e+i,n=t+r;l>=0&&l<this.grid.length&&n>=0&&n<this.grid[0].length&&(s+=this.grid[l][n])}return s}ca(){var e=this.grid.map((e=>e.slice()));this.grid.forEach(((t,s)=>{t.forEach(((t,i)=>{var r=this.countNeighbor(s,i);(this.grid[s][i]&&!this.surv[r]||!this.grid[s][i]&&this.live[r])&&(e[s][i]=!e[s][i])}))})),this.grid=e}}var o=s(0);function a(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{classID:"playPauseButton",onClick:()=>{e.setIsOn(!e.isOn),e.isOnRef.current=!e.isOn},children:e.isOn?"pause":"play"}),!e.isOnRef.current&&Object(o.jsx)("button",{classID:"resetButton",onClick:()=>{e.setGrid((()=>Array(e.numRows).fill().map((()=>new Array(e.numCols).fill(0)))))},children:"reset"})]})}function d(e){return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["random level (0 - 1):",Object(o.jsx)("input",{type:"text",value:e.randLevel,onChange:t=>{let s=t.target.value;Number(s)==s&&s>=0&&s<=1&&e.setRandLevel(t.target.value)}})]})}),Object(o.jsx)("button",{onClick:()=>{var t=new Array(e.numRows).fill().map((()=>new Array(e.numCols).fill().map((()=>Math.random()<e.randLevel?1:0))));e.setGrid(t)},children:"randomize!"})]})}function u(e){const t=e.grid;return Object(o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(e.numCols,", ").concat(10,"px)")},children:t.map(((s,i)=>s.map(((s,r)=>Object(o.jsx)("div",{style:{width:8,height:8,backgroundColor:t[i][r]&&e.oneIsColor||!t[i][r]&&!e.oneIsColor?"green":"white",border:"solid 1px black"},onClick:()=>{if(!e.isOn){var s=[...t];s[i][r]=!t[i][r],e.setGrid(s)}}},"".concat(i,"-").concat(r))))))})}const j={maze:{surv:[0,1,1,1,1,1,0,0,0],live:[0,0,0,1,0,0,0,0,0]},mazectric:{surv:[0,1,1,1,1,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]},"game of life":{surv:[0,0,1,1,0,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]}},h=["maze","mazectric","game of life","free"];function b(){return Object(o.jsx)("div",{style:{width:20,height:20}})}var v=function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["Select rule",Object(o.jsx)("select",{value:e.currRule,onChange:t=>{const s=t.target.value;e.setCurrRule(s),"free"!==s?(e.setLive(j[s].live),e.setSurv(j[s].surv)):(e.setLive(new Array(9).fill(0)),e.setSurv(new Array(9).fill(0)))},children:h.map((e=>Object(o.jsx)("option",{value:e,children:e},"".concat(e))))})]})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"A cell will come to life with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.live.map(((t,s)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"lightgreen":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.live];t[s]=!e.live[s],e.setLive(t)}},children:s},s)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"and survive with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.surv.map(((t,s)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"skyblue":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.surv];t[s]=!e.surv[s],e.setSurv(t)}},children:s},s)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"or be dead otherwise."}),Object(o.jsx)(b,{}),Object(o.jsx)("button",{onClick:()=>{e.setOneIsColor(!e.oneIsColor)},children:"flip color scheme!"})]})]})};function O(e){return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("div",{classID:"CAOption",style:{width:130,height:20,backgroundColor:e.isCA?"pink":"white",border:"solid 1px black"},onClick:()=>e.setIsCA(!0),children:"Cellular Automata"}),Object(o.jsx)("div",{classID:"MazeOption",style:{width:130,height:20,backgroundColor:e.isCA?"white":"pink",border:"solid 1px black"},onClick:()=>e.setIsCA(!1),children:"Maze"})]})}var x=function(e){return Object(o.jsx)("div",{children:"Maze panel - coming very very soon!"})};const f=100,m=100;function g(){return Object(o.jsx)("div",{style:{width:20,height:20}})}var p=function(){var[e,t]=Object(i.useState)((()=>Array(f).fill().map((()=>new Array(m).fill(0))))),[s,r]=Object(i.useState)([0,0,1,1,0,0,0,0,0]),[l,n]=Object(i.useState)([0,0,0,1,0,0,0,0,0]),[j,h]=Object(i.useState)("game of life"),[b,p]=Object(i.useState)(!0),[C,y]=Object(i.useState)(!1),[w,k]=Object(i.useState)(.05),[R,A]=Object(i.useState)(!0);const I=Object(i.useRef)(C);return Object(i.useEffect)((()=>{new c(e,l,s,t,I).show()}),[C]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(u,{grid:e,setGrid:t,rule:j,isOn:C,oneIsColor:R,numCols:m,numRows:f}),Object(o.jsx)(g,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)(O,{isCA:b,setIsCA:p}),Object(o.jsx)(g,{}),Object(o.jsx)("div",{children:b?Object(o.jsx)(v,{currRule:j,setCurrRule:h,surv:s,setSurv:r,live:l,setLive:n,oneIsColor:R,setOneIsColor:A}):Object(o.jsx)(x,{})}),Object(o.jsx)(g,{}),Object(o.jsx)(a,{setIsOn:y,isOn:C,isOnRef:I,setGrid:t,numRows:f,numCols:m})]})]}),Object(o.jsx)(g,{}),Object(o.jsx)(d,{setGrid:t,randLevel:w,setRandLevel:k,numRows:f,numCols:m})]})};var C=function(){return Object(o.jsx)(p,{})};l.a.render(Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Cellular Automata / Maze (coming up)"}),Object(o.jsx)("div",{children:Object(o.jsx)(C,{})})]}),document.getElementById("root"))},8:function(e,t,s){}},[[10,1,2]]]);
//# sourceMappingURL=main.e9431ecc.chunk.js.map