(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],{10:function(e,t,r){"use strict";r.r(t);var i=r(1),s=r(3),l=r.n(s);r(8);const c=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];class n{constructor(e,t,r){return this.grid=e,this.live=t,this.surv=r,this}next(){return this.ca(),this.grid}countNeighbor(e,t){var r=0;for(let[i,s]of c){const l=e+i,c=t+s;l>=0&&l<this.grid.length&&c>=0&&c<this.grid[0].length&&(r+=this.grid[l][c])}return r}ca(){var e=this.grid.map((e=>e.slice()));this.grid.forEach(((t,r)=>{t.forEach(((t,i)=>{var s=this.countNeighbor(r,i);(this.grid[r][i]&&!this.surv[s]||!this.grid[r][i]&&this.live[s])&&(e[r][i]=!e[r][i])}))})),this.grid=e}}var o=r(0);const a=100,j={maze:{surv:[0,1,1,1,1,1,0,0,0],live:[0,0,0,1,0,0,0,0,0]},mazectric:{surv:[0,1,1,1,1,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]},"game of life":{surv:[0,0,1,1,0,0,0,0,0],live:[0,0,0,1,0,0,0,0,0]}},d=["maze","mazectric","game of life","free"];function u(e){return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("div",{classID:"CAOption",style:{width:130,height:20,backgroundColor:e.isCA?"pink":"white",border:"solid 1px black"},onClick:()=>e.setIsCA(!e.isCA),children:"Cellular Automata"}),Object(o.jsx)("div",{classID:"MazeOption",style:{width:130,height:20,backgroundColor:e.isCA?"white":"pink",border:"solid 1px black"},onClick:()=>e.setIsCA(!e.isCA),children:"Maze"})]})}function h(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["Select rule",Object(o.jsx)("select",{value:e.currRule,onChange:t=>{const r=t.target.value;e.setCurrRule(r),"free"!==r?(e.setLive(j[r].live),e.setSurv(j[r].surv)):(e.setLive(new Array(9).fill(0)),e.setSurv(new Array(9).fill(0)))},children:d.map((e=>Object(o.jsx)("option",{value:e,children:e},"".concat(e))))})]})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"A cell will come to life with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.live.map(((t,r)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"lightgreen":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.live];t[r]=!e.live[r],e.setLive(t)}},children:r},r)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"and survive with"}),Object(o.jsx)("div",{style:{display:"flex"},children:e.surv.map(((t,r)=>Object(o.jsx)("div",{className:"botton",style:{height:20,width:20,backgroundColor:t?"skyblue":"white",border:"solid 1px black"},onClick:()=>{if("free"===e.currRule){var t=[...e.surv];t[r]=!e.surv[r],e.setSurv(t)}},children:r},r)))}),Object(o.jsx)("h3",{children:"living neighbors,"}),Object(o.jsx)("h3",{children:"or be dead otherwise."}),Object(o.jsx)(O,{}),Object(o.jsx)("button",{onClick:()=>{e.setOneIsColor(!e.oneIsColor)},children:"flip color scheme!"})]})]})}function b(e){return Object(o.jsx)("div",{children:"Maze panel - coming very very soon!"})}function v(e){const t=e.grid;return Object(o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(a,", ").concat(10,"px)")},children:t.map(((r,i)=>r.map(((r,s)=>Object(o.jsx)("div",{style:{width:8,height:8,backgroundColor:t[i][s]&&e.oneIsColor||!t[i][s]&&!e.oneIsColor?"green":"white",border:"solid 1px black"},onClick:()=>{if(!e.isOn){var r=[...t];r[i][s]=!t[i][s],e.setGrid(r)}}},"".concat(i,"-").concat(s))))))})}function O(){return Object(o.jsx)("div",{style:{width:20,height:20}})}function x(){var[e,t]=Object(i.useState)((()=>Array(100).fill().map((()=>new Array(a).fill(0))))),[r,s]=Object(i.useState)(j.maze.surv),[l,c]=Object(i.useState)(j.maze.live),[d,x]=Object(i.useState)("maze"),[g,f]=Object(i.useState)(!0),[p,m]=Object(i.useState)(!1),[C,y]=Object(i.useState)(.05),[k,w]=Object(i.useState)(!0);const A=Object(i.useRef)(p);return Object(i.useEffect)((()=>{console.log("starting effect");var i=new n(e,l,r);!function e(){A.current&&(t(i.next()),setTimeout((()=>e()),10))}()}),[p]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(v,{grid:e,setGrid:t,rule:d,isOn:p,oneIsColor:k}),Object(o.jsx)(O,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{isCA:g,setIsCA:f}),Object(o.jsx)(O,{}),Object(o.jsx)("div",{children:g?Object(o.jsx)(h,{currRule:d,setCurrRule:x,surv:r,setSurv:s,live:l,setLive:c,oneIsColor:k,setOneIsColor:w}):Object(o.jsx)(b,{})}),Object(o.jsx)(O,{}),Object(o.jsx)("button",{classID:"playPauseButton",onClick:()=>{m(!p),A.current=!p},children:p?"pause":"play"}),Object(o.jsx)("button",{classID:"resetButton",onClick:()=>{t((()=>Array(100).fill().map((()=>new Array(a).fill(0))))),m(!1)},children:"reset"})]})]}),Object(o.jsx)(O,{}),Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)("form",{children:Object(o.jsxs)("label",{children:["random level (0 - 1):",Object(o.jsx)("input",{type:"text",value:C,onChange:e=>{let t=e.target.value;Number(t)==t&&t>=0&&t<=1?y(e.target.value):y(C)}})]})}),Object(o.jsx)("button",{onClick:()=>{var e=new Array(100).fill().map((()=>new Array(a).fill().map((()=>Math.random()<C?1:0))));t(e)},children:"randomize!"})]})]})}var g=function(){return Object(o.jsx)(x,{})};l.a.render(Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Cellular Automata / Maze (coming up)"}),Object(o.jsx)("div",{children:Object(o.jsx)(g,{})})]}),document.getElementById("root"))},8:function(e,t,r){}},[[10,1,2]]]);
//# sourceMappingURL=main.0edd55eb.chunk.js.map